{"openapi":"3.1.0","info":{"title":"BioGenie â€“ Backend-Controlled RAG API","description":"Locked-down Biotechnology Notes Generator for Class 9-12. No user uploads. Read-only retrieval from developer-indexed PDFs.","version":"3.0.0"},"paths":{"/health":{"get":{"summary":"Health Check","description":"Liveness probe. Reports whether the knowledge base has indexed chunks.","operationId":"health_check_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HealthResponse"}}}}}}},"/ask":{"post":{"summary":"Ask Question","description":"Student endpoint: accepts a question and returns structured biotechnology notes\ngenerated strictly from developer-indexed PDFs via Supabase RAG.\nNo external knowledge. No user uploads. Read-only retrieval.","operationId":"ask_question_ask_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AskRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AskResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}}},"components":{"schemas":{"AskRequest":{"properties":{"question":{"type":"string","maxLength":500,"minLength":1,"title":"Question"},"class_level":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Class Level","description":"e.g. '9', '10', '11', '12', 'general'","default":"general"}},"type":"object","required":["question"],"title":"AskRequest"},"AskResponse":{"properties":{"answer":{"type":"string","title":"Answer"},"sources":{"items":{"type":"string"},"type":"array","title":"Sources"},"injection_detected":{"type":"boolean","title":"Injection Detected","default":false}},"type":"object","required":["answer","sources"],"title":"AskResponse"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"HealthResponse":{"properties":{"status":{"type":"string","title":"Status"},"index_ready":{"type":"boolean","title":"Index Ready"}},"type":"object","required":["status","index_ready"],"title":"HealthResponse"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}}}}